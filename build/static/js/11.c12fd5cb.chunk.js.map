{"version":3,"sources":["pages/Login.js"],"names":["Wraper","styled","div","Title","h1","layout","labelCol","span","wrapperCol","tailLayout","offset","Component","AuthStore","useStores","history","useHistory","name","onFinish","values","console","log","setUsername","username","setPassword","password","login","then","push","catch","onFinishFailed","errorInfo","Item","label","rules","required","message","validator","rule","value","test","Promise","reject","length","resolve","min","max","Password","type","htmlType"],"mappings":"yfAMA,IAAMA,EAASC,IAAOC,IAAV,KAONC,EAAQF,IAAOG,GAAV,KAKLC,EAAS,CACXC,SAAU,CAACC,KAAM,GACjBC,WAAY,CAACD,KAAM,KAEjBE,EAAa,CACfD,WAAY,CAACE,OAAQ,EAAGH,KAAM,KAsEnBI,UAnEG,WAAO,IAChBC,EAAaC,cAAbD,UACDE,EAAUC,cAuBd,OACI,kBAACf,EAAD,KACI,kBAACG,EAAD,uCACA,kBAAC,IAAD,iBACQE,EADR,CAEIW,KAAK,QACLC,SA5BK,SAAAC,GACbC,QAAQC,IAAI,WAAYF,GACxBN,EAAUS,YAAYH,EAAOI,UAC/BV,EAAUW,YAAYL,EAAOM,UAC3BZ,EAAUa,QACLC,MAAK,WACJP,QAAQC,IAAI,gEACZN,EAAQa,KAAK,QACZC,OAAM,WACPT,QAAQC,IAAI,gCAoBVS,eAhBW,SAAAC,GACnBX,QAAQC,IAAI,UAAWU,MAiBf,kBAAC,IAAKC,KAAN,CACIC,MAAM,KACNhB,KAAK,WACLiB,MAAO,CACH,CAACC,UAAU,EAAMC,QAAS,gDAC1B,CAACC,UApBI,SAACC,EAAKC,GAC3B,MAAG,KAAKC,KAAKD,GAAeE,QAAQC,OAAO,oFACxCH,EAAMI,OAAQ,GAAKJ,EAAMI,OAAQ,GAAUF,QAAQC,OAAO,8CACtDD,QAAQG,cAoBH,kBAAC,IAAD,OAGJ,kBAAC,IAAKZ,KAAN,CACIC,MAAM,eACNhB,KAAK,WACLiB,MAAO,CACH,CAACC,UAAU,EAAMC,QAAS,0DAC1B,CAACS,IAAI,EAAET,QAAQ,mCACf,CAACU,IAAI,GAAGV,QAAQ,sCAGpB,kBAAC,IAAMW,SAAP,OAGJ,kBAAC,IAAKf,KAAStB,EACX,kBAAC,IAAD,CAAQsC,KAAK,UAAUC,SAAS,UAAhC","file":"static/js/11.c12fd5cb.chunk.js","sourcesContent":["import React from 'react';\nimport {Form, Input, Button, Checkbox} from 'antd';\nimport styled from \"styled-components\";\nimport {useStores} from \"../stores\";\nimport { useHistory } from 'react-router-dom'\n\nconst Wraper = styled.div`\n    max-width:600px;\n    margin:30px auto;\n    box-shadow:2px 2px 4px 0 rgba(0,0,0,0.2);\n    border-radius:4px;\n    padding:20px;\n`\nconst Title = styled.h1`\n    text-align:center;\n    margin-bottom:30px\n`\n\nconst layout = {\n    labelCol: {span: 6},\n    wrapperCol: {span: 18},\n};\nconst tailLayout = {\n    wrapperCol: {offset: 6, span: 18},\n};\n\nconst Component = () => {\n  const {AuthStore} = useStores()\n  const history = useHistory()\n    const onFinish = values => {\n        console.log('Success:', values);\n        AuthStore.setUsername(values.username)\n      AuthStore.setPassword(values.password)\n        AuthStore.login()\n            .then(()=>{\n              console.log('登录成功，跳转到首页')\n              history.push('/')\n            }).catch(()=>{\n              console.log('登录失败')\n        })\n    };\n\n    const onFinishFailed = errorInfo => {\n        console.log('Failed:', errorInfo);\n    };\n    const validateUsername = (rule,value) =>{\n        if(/\\W/.test(value)) return Promise.reject('ID只能包含字母、数字、下划线');\n        if(value.length <4 || value.length >16)return Promise.reject('ID长度为4~16个字符');\n        return Promise.resolve();\n    };\n\n    return (\n        <Wraper>\n            <Title>验证通行证</Title>\n            <Form\n                {...layout}\n                name=\"basic\"\n                onFinish={onFinish}\n                onFinishFailed={onFinishFailed}\n            >\n                <Form.Item\n                    label=\"ID\"\n                    name=\"username\"\n                    rules={[\n                        {required: true, message: '请输入您的身份ID'},\n                        {validator:validateUsername}\n                    ]}\n                >\n                    <Input/>\n                </Form.Item>\n\n                <Form.Item\n                    label=\"秘钥\"\n                    name=\"password\"\n                    rules={[\n                        {required: true, message: '请输入您的私人秘钥'},\n                        {min:4,message:'最少4个字符'},\n                        {max:10,message:'最大10个字符'}\n                    ]}\n                >\n                    <Input.Password/>\n                </Form.Item>\n\n                <Form.Item {...tailLayout}>\n                    <Button type=\"primary\" htmlType=\"submit\">\n                        提交\n                    </Button>\n                </Form.Item>\n            </Form>\n        </Wraper>\n    );\n};\n\nexport default Component;"],"sourceRoot":""}