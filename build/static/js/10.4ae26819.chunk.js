(this.webpackJsonpepic=this.webpackJsonpepic||[]).push([[10],{319:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),l=n(73),u=n(69),c=n(25),i=n(9),o=n(314),s=n(134),d=n(209),g=n(318),m=n(26);function p(){var e=Object(c.a)(["\n  max-width: 300px;\n"]);return p=function(){return e},e}function h(){var e=Object(c.a)(["\n  margin: 20px 0;\n  text-align: center;\n"]);return h=function(){return e},e}function f(){var e=Object(c.a)(["\n  margin-top: 30px;\n  border: 1px dashed #ccc;\n  padding: 20px;\n"]);return f=function(){return e},e}var b=o.a.Dragger,E=m.a.div(f()),v=m.a.h1(h()),j=m.a.img(p()),w=Object(l.a)((function(){var e=Object(u.a)(),t=e.ImageStore,n=e.UserStore,l=Object(r.useRef)(),c=Object(r.useRef)(),o=Object(i.d)((function(){return{width:null,setWidth:function(e){o.width=e},get widthStr(){return o.width?"/w/".concat(o.width):""},height:null,setHeight:function(e){o.height=e},get heightStr(){return o.height?"/h/".concat(o.height):""},get fullStr(){return t.serverFile.attributes.url.attributes.url+"?imageView2/0"+o.widthStr+o.heightStr}}})),m={showUploadList:!1,beforeUpload:function(e){return t.setFile(e),t.setFilename(e.name),null===n.currentUser?(s.b.warning("\u8bf7\u5148\u9a8c\u8bc1\u8eab\u4efd\u518d\u4e0a\u4f20\uff01"),!1):(e.size>8847360&&s.b.error("\u4e3a\u4e86\u7f13\u89e3\u670d\u52a1\u5668\u538b\u529b\uff0c\u76ee\u524d\u4ec5\u652f\u6301\u6700\u59278M\u5927\u5c0f"),window.file=e,/(svg$)|(png$)|(jpg$)|(jpeg$)|(gif)/gi.test(e.type)?(t.upload().then((function(e){console.log(e)})).catch((function(){})),!1):(s.b.error("\u73b0\u4ec5\u652f\u6301\u4e0a\u4f20png/svg/jpg/gif\u683c\u5f0f\u7684\u56fe\u7247"),!1))}};return a.a.createElement("div",null,a.a.createElement(d.a,{tip:"\u56fe\u7247\u4e0a\u4f20\u4e2d...",spinning:t.isUpoading},a.a.createElement(b,m,a.a.createElement("p",{className:"ant-upload-drag-icon"},a.a.createElement(g.a,null)),a.a.createElement("p",{className:"ant-upload-text"},"\u53ef\u4ee5\u70b9\u51fb\u6216\u8005\u6216\u8005\u62d6\u62fd\u4e0a\u4f20\u56fe\u7247"),a.a.createElement("p",{className:"ant-upload-hint"},"\u76ee\u524d\u4ec5\u652f\u6301.png/.gif/.jpg/.svg\u7c7b\u578b\u56fe\u7247\uff0c\u4e3a\u4e86\u7f13\u89e3\u670d\u52a1\u5668\u538b\u529b\u5355\u5f20\u56fe\u7247\u5927\u5c0f\u4e0d\u5f97\u8d85\u8fc78MB"))),t.serverFile?a.a.createElement(E,null,a.a.createElement(v,null,"\u4e0a\u4f20\u7ed3\u679c"),a.a.createElement("dl",null,a.a.createElement("dt",null,"\u7ebf\u4e0a\u5730\u5740:"),a.a.createElement("dd",null,a.a.createElement("a",{target:"_blank",href:t.serverFile.attributes.url.attributes.url},t.serverFile.attributes.url.attributes.url)),a.a.createElement("dt",null,"\u6587\u4ef6\u540d:"),a.a.createElement("dd",null,t.filename),a.a.createElement("dt",null,"\u56fe\u7247\u9884\u89c8:"),a.a.createElement("dd",null,a.a.createElement(j,{src:t.serverFile.attributes.url.attributes.url})),a.a.createElement("dt",null,"\u81ea\u5b9a\u4e49\u5c3a\u5bf8"),a.a.createElement("dd",null,a.a.createElement("input",{ref:l,onChange:function(){o.setWidth(l.current.value)},placeholder:"\u6700\u5927\u5bbd\u5ea6\uff08\u53ef\u9009\uff09"}),a.a.createElement("input",{ref:c,onChange:function(){o.setHeight(c.current.value)},placeholder:"\u6700\u5927\u9ad8\u5ea6\uff08\u53ef\u9009\uff09"})),a.a.createElement("dd",null,a.a.createElement("a",{target:"_blank",href:o.fullStr},o.fullStr)))):null,a.a.createElement("h3",null,"\u672c\u7ad9\u53ef\u4ee5\u5c06\u56fe\u7247\u751f\u6210\u5728\u7ebf\u5730\u5740\uff0c\u5e76\u4e14\u65e0\u538b\u7f29\u6e90\u6587\u4ef6\u751f\u6210\uff0c\u65b9\u4fbf\u4f60\u5728\u4efb\u4f55\u5730\u65b9\u4f7f\u7528\u4f60\u7684\u56fe\u7247\uff01"))}));function O(){var e=Object(c.a)(["\n  background:orange;\n  padding:10px;\n  margin:30px 0;\n  color:#fff;\n  border-radius:6px;\n"]);return O=function(){return e},e}var x=m.a.div(O()),S=Object(l.a)((function(e){var t=e.children,n=Object(u.a)().UserStore;return a.a.createElement(a.a.Fragment,null,n.currentUser?null:a.a.createElement(x,null,t))})),F=Object(l.a)((function(){Object(u.a)().UserStore;return a.a.createElement(a.a.Fragment,null,a.a.createElement(S,null,"\u8bf7\u5148\u9a8c\u8bc1\u901a\u884c\u8bc1\u518d\u4f7f\u7528\u8be5\u529f\u80fd"),a.a.createElement(w,null))}));t.default=F}}]);
//# sourceMappingURL=10.4ae26819.chunk.js.map