{"version":3,"sources":["components/List.js","pages/History.js"],"names":["Img","styled","img","Component","observer","HistoryStore","useStores","useEffect","reset","initialLoad","pageStart","loadMore","find","hasMore","isLoading","useWindow","dataSource","list","renderItem","item","Item","key","id","src","attributes","url","filename","target","href","tip","History","List"],"mappings":"kVAOA,IAAMA,E,MAAMC,EAAOC,IAAV,KAyDMC,EAlDGC,aAAS,WAAO,IACxBC,EAAiBC,cAAjBD,aAaR,OAPAE,qBAAU,WAER,OAAO,WACLF,EAAaG,WAEd,IAGC,6BACE,kBAAC,IAAD,CACIC,aAAa,EACbC,UAAW,EACXC,SAhBO,WACfN,EAAaO,QAgBLC,SAAUR,EAAaS,WAAWT,EAAaQ,QAC/CE,WAAW,GAEb,kBAAC,IAAD,CACIC,WAAYX,EAAaY,KACzBC,WACE,SAAAC,GAAI,OAAI,kBAAC,IAAKC,KAAN,CAAWC,IAAKF,EAAKG,IAC3B,6BACE,kBAACtB,EAAD,CAAKuB,IAAKJ,EAAKK,WAAWC,IAAID,WAAWC,OAE3C,6BACE,4BAAKN,EAAKK,WAAWE,WAEvB,6BACE,uBAAIC,OAAO,SAASC,KAAMT,EAAKK,WAAWC,IAAID,WAAWC,KAAMN,EAAKK,WAAWC,IAAID,WAAWC,SAKpGpB,EAAaS,WAAaT,EAAaQ,SACrC,6BACE,kBAAC,IAAD,CAAMgB,IAAI,6CC3CbC,UATf,WACE,OACI,oCACE,wDACA,kBAACC,EAAD","file":"static/js/9.edf5b006.chunk.js","sourcesContent":["import React, { useEffect } from 'react';\r\nimport { observer } from 'mobx-react';\r\nimport { useStores } from '../stores';\r\nimport InfiniteScroll from 'react-infinite-scroller';\r\nimport { List, Spin } from 'antd';\r\nimport styled from 'styled-components';\r\n\r\nconst Img = styled.img`\r\n  width: 100px;\r\n  height: 120px;\r\n  object-fit: contain;\r\n  border: 1px solid #eee;\r\n`;\r\n\r\nconst Component = observer(() => {\r\n  const { HistoryStore } = useStores();\r\n\r\n  const loadMore = () => {\r\n    HistoryStore.find();\r\n  };\r\n\r\n  useEffect(() => {\r\n\r\n    return () => {\r\n      HistoryStore.reset();\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n      <div>\r\n        <InfiniteScroll\r\n            initialLoad={true}\r\n            pageStart={0}\r\n            loadMore={loadMore}\r\n            hasMore={!HistoryStore.isLoading&&HistoryStore.hasMore}\r\n            useWindow={true}\r\n        >\r\n          <List\r\n              dataSource={HistoryStore.list}\r\n              renderItem={\r\n                item => <List.Item key={item.id}>\r\n                  <div>\r\n                    <Img src={item.attributes.url.attributes.url}  />\r\n                  </div>\r\n                  <div>\r\n                    <h5>{item.attributes.filename}</h5>\r\n                  </div>\r\n                  <div>\r\n                    <a  target=\"_blank\" href={item.attributes.url.attributes.url}>{item.attributes.url.attributes.url}</a>\r\n                  </div>\r\n                </List.Item>\r\n              }\r\n          >\r\n            { HistoryStore.isLoading && HistoryStore.hasMore && (\r\n                <div>\r\n                  <Spin tip=\"努力加载中...\"/>\r\n                </div>\r\n            )}\r\n          </List>\r\n        </InfiniteScroll>\r\n      </div>\r\n  );\r\n});\r\n\r\nexport default Component;","import React from 'react';\r\nimport List from '../components/List';\r\n\r\nfunction History() {\r\n  return (\r\n      <>\r\n        <h1>上传记录</h1>\r\n        <List> </List>\r\n      </>\r\n  );\r\n}\r\n\r\nexport default History;"],"sourceRoot":""}